<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>After School Classes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .lesson-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }
        .lesson-box {
            border: 1px solid #ccc;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div id="app">
        <h1>After School Classes</h1>
        <div>
            <label for="sortAttribute">Sort by:</label>
            <select v-model="sortAttribute" id="sortAttribute">
                <option value="subject">Subject</option>
                <option value="location">Location</option>
                <option value="price">Price</option>
                <option value="spaces">Spaces</option>
            </select>
            <label for="sortOrder">Order:</label>
            <select v-model="sortOrder" id="sortOrder">
                <option value="asc">Ascending</option>
                <option value="desc">Descending</option>
            </select>
        </div>
        <div class="lesson-container">
            <div v-for="lesson in sortedLessons" :key="lesson.id" class="lesson-box">
                <i :class="lesson.icon"></i>
                <h2>{{ lesson.subject }}</h2>
                <p>Location: {{ lesson.location }}</p>
                <p>Price: Rs{{ lesson.price }}</p>
                <p>Spaces left: {{ lesson.spaces }}</p>
                <button @click="addToCart(lesson)" :disabled="lesson.spaces === 0">Add to Cart</button>
            </div>
        </div>
        <form @submit.prevent="checkout">
            <button type="submit" :disabled="cart.length === 0">Checkout</button>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                lessons: [
                    { id: 1, subject: 'MATHEMATICS', location: 'Room 10', price: 2000, spaces: 10, icon: 'fas fa-calculator' },
                    { id: 2, subject: 'ENGLISH', location: 'Room 12', price: 1500, spaces: 8, icon: 'fas fa-flask' },
                    { id: 3, subject: 'CURRENT AFFAIRS', location: 'Room 14', price: 1500, spaces: 5, icon: 'fas fa-landmark' },
                    { id: 4, subject: 'BUSINESS MANAGEMENT', location: 'Room 16', price: 1800, spaces: 8, icon: 'fas fa-paint-brush' },
                    { id: 5, subject: 'HEALTH SCIENCES', location: 'Room 18', price: 3000, spaces: 10, icon: 'fas fa-music' },
                    { id: 6, subject: 'HISTORY', location: 'Room 20', price: 1500, spaces: 7, icon: 'fas fa-dumbbell' },
                    { id: 7, subject: 'SOCIAL SCIENCES', location: 'Room 22', price: 1000, spaces: 25, icon: 'fas fa-laptop-code' },
                    { id: 8, subject: 'ACCOUNTING', location: 'Room 24', price: 3000, spaces: 18, icon: 'fas fa-theater-masks' },
                    { id: 9, subject: 'ITALIAN LANGUAGE', location: 'Room 26', price: 2000, spaces: 10, icon: 'fas fa-language' },
                    { id: 10, subject: 'FRENCH LANGUAGE', location: 'Room 28', price: 2500, spaces: 7, icon: 'fas fa-language' }
                ],
                cart: [],
                sortAttribute: 'subject',
                sortOrder: 'asc'
            },
            computed: {
                sortedLessons() {
                    return this.lessons.slice().sort((a, b) => {
                        let modifier = this.sortOrder === 'asc' ? 1 : -1;
                        if (a[this.sortAttribute] < b[this.sortAttribute]) return -1 * modifier;
                        if (a[this.sortAttribute] > b[this.sortAttribute]) return 1 * modifier;
                        return 0;
                    });
                }
            },
            methods: {
                addToCart(lesson) {
                    if (lesson.spaces > 0) {
                        this.cart.push({ ...lesson });
                        lesson.spaces--;
                    }
                },
                checkout() {
                    alert('Proceeding to checkout with ' + this.cart.length + ' items.');
                    // Clear the cart without resetting the spaces
                    this.cart = [];
                }
            }
        });
    </script>
</body>
</html>
